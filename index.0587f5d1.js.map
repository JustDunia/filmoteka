{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAcC,SAASC,cAAc,UACrCC,EAAcF,SAASC,cAAc,QACrCE,EAAM,kCAiFZJ,EAAYK,iBAAiB,SA/E7B,WACE,MAAMC,EAAqB,CACzBC,MAAOT,EAAAU,WAAWD,MAClBE,GAAIX,EAAAU,WAAWC,GACfC,YAAaC,OAAOC,SAASd,EAAAU,WAAWK,cACxCC,OAAQhB,EAAAU,WAAWM,OAAOC,KAAIC,IAAS,EAAAC,EAAAC,qBAAoBF,EAAMP,MAAKU,KAAK,MAC3EC,OAAQhB,EAAMN,EAAAU,WAAWa,YACzBC,KAAMxB,EAAAU,WAAWe,aAAaC,QAAQ,GACtCC,WAAY3B,EAAAU,WAAWiB,WAAWD,QAAQ,GAC1CE,UAAW5B,EAAAU,WAAWmB,eACtBC,MAAO9B,EAAAU,WAAWqB,UAIpB7B,EAAY8B,UAAY,mBACxB9B,EAAY+B,UAAUC,IAAI,iBAE1B,MAAMC,EAAUC,aAAaC,QAAQ,aAErC,IAAKF,EAEH,YADAC,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,CAAChC,KAIpD,MAAMiC,EAAcF,KAAKG,MAAMP,GAE/B,GAAIA,EAAQQ,SAAS3C,EAAAU,WAAWC,IAO9B,OANAT,EAAY8B,UAAY,iBACxB9B,EAAY+B,UAAUW,OAAO,sBAC7BR,aAAaE,QACX,YACAC,KAAKC,UAAUC,EAAYI,QAAOC,GAASA,EAAMnC,KAAOX,EAAAU,WAAWC,OAIrEyB,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,IAAIC,EAAajC,IAEtE,IA2CAH,EAAYE,iBAAiB,SAzC7B,WACE,MAAMC,EAAqB,CACzBC,MAAOT,EAAAU,WAAWD,MAClBE,GAAIX,EAAAU,WAAWC,GACfC,YAAaC,OAAOC,SAASd,EAAAU,WAAWK,cACxCC,OAAQhB,EAAAU,WAAWM,OAAOC,KAAIC,IAAS,EAAAC,EAAAC,qBAAoBF,EAAMP,MAAKU,KAAK,MAC3EC,OAAQhB,EAAMN,EAAAU,WAAWa,YACzBC,KAAMxB,EAAAU,WAAWe,aAAaC,QAAQ,GACtCC,WAAY3B,EAAAU,WAAWiB,WAAWD,QAAQ,GAC1CE,UAAW5B,EAAAU,WAAWmB,eACtBC,MAAO9B,EAAAU,WAAWqB,UAGpB1B,EAAY2B,UAAY,iBACxB3B,EAAY4B,UAAUC,IAAI,iBAG1B,MAAMa,EAASX,aAAaC,QAAQ,aAEpC,IAAKU,EAEH,YADAX,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,CAAChC,KAKpD,MAAMiC,EAAcF,KAAKG,MAAMK,GAE/B,GAAIA,EAAOJ,SAAS3C,EAAAU,WAAWC,IAO7B,OANAN,EAAY2B,UAAY,eACxB3B,EAAY4B,UAAUW,OAAO,sBAC7BR,aAAaE,QACX,YACAC,KAAKC,UAAUC,EAAYI,QAAOC,GAASA,EAAMnC,KAAOX,EAAAU,WAAWC,OAIrEyB,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,IAAIC,EAAajC,IAEtE","sources":["src/js/localStorage.js"],"sourcesContent":["import { exportData } from './movie-details';\nimport { idToGenereTranslate } from './helpers';\n\nconst watchButton = document.querySelector('.watch');\nconst queueButton = document.querySelector('.que');\nconst url = 'https://image.tmdb.org/t/p/w500';\n\nfunction addToWatched() {\n  const movieDetailsToSave = {\n    title: exportData.title,\n    id: exportData.id,\n    releaseDate: Number.parseInt(exportData.release_date),\n    genres: exportData.genres.map(genre => idToGenereTranslate(genre.id)).join(', '),\n    poster: url + exportData.poster_path,\n    vote: exportData.vote_average.toFixed(1),\n    popularity: exportData.popularity.toFixed(1),\n    org_title: exportData.original_title,\n    about: exportData.overview,\n  };\n  \n\n  watchButton.innerHTML = 'ADDED TO WATCHED';\n  watchButton.classList.add('btn-mod-color');\n\n  const watched = localStorage.getItem('WATCH_KEY');\n\n  if (!watched) {\n    localStorage.setItem('WATCH_KEY', JSON.stringify([movieDetailsToSave]));\n    return;\n  }\n\n  const savedMovies = JSON.parse(watched);\n\n  if (watched.includes(exportData.id)) {\n    watchButton.innerHTML = 'ADD TO WATCHED';\n    watchButton.classList.remove('btn-mod-color');\n    localStorage.setItem(\n      'WATCH_KEY',\n      JSON.stringify(savedMovies.filter(movie => movie.id !== exportData.id)),\n    );\n    return;\n  } else {\n    localStorage.setItem('WATCH_KEY', JSON.stringify([...savedMovies, movieDetailsToSave]));\n  }\n}\n\nfunction addToQueued() {\n  const movieDetailsToSave = {\n    title: exportData.title,\n    id: exportData.id,\n    releaseDate: Number.parseInt(exportData.release_date),\n    genres: exportData.genres.map(genre => idToGenereTranslate(genre.id)).join(', '),\n    poster: url + exportData.poster_path,\n    vote: exportData.vote_average.toFixed(1),\n    popularity: exportData.popularity.toFixed(1),\n    org_title: exportData.original_title,\n    about: exportData.overview,\n  };\n\n  queueButton.innerHTML = 'ADDED TO QUEUE';\n  queueButton.classList.add('btn-mod-color');\n\n\n  const queued = localStorage.getItem('QUEUE_KEY');\n\n  if (!queued) {\n    localStorage.setItem('QUEUE_KEY', JSON.stringify([movieDetailsToSave]));\n    return;\n  }\n\n  \n  const savedMovies = JSON.parse(queued);\n\n  if (queued.includes(exportData.id)) {\n    queueButton.innerHTML = 'ADD TO QUEUE';\n    queueButton.classList.remove('btn-mod-color');\n    localStorage.setItem(\n      'QUEUE_KEY',\n      JSON.stringify(savedMovies.filter(movie => movie.id !== exportData.id)),\n    );\n    return;\n  } else {\n    localStorage.setItem('QUEUE_KEY', JSON.stringify([...savedMovies, movieDetailsToSave]));\n  }\n}\n\nwatchButton.addEventListener('click', addToWatched);\nqueueButton.addEventListener('click', addToQueued);"],"names":["$iQVsW","parcelRequire","$fa19bfaa44e85bac$var$watchButton","document","querySelector","$fa19bfaa44e85bac$var$queueButton","$fa19bfaa44e85bac$var$url","addEventListener","movieDetailsToSave","title","exportData","id","releaseDate","Number","parseInt","release_date","genres","map","genre","$48Q3A","idToGenereTranslate","join","poster","poster_path","vote","vote_average","toFixed","popularity","org_title","original_title","about","overview","innerHTML","classList","add","watched","localStorage","getItem","setItem","JSON","stringify","savedMovies","parse","includes","remove","filter","movie","queued"],"version":3,"file":"index.0587f5d1.js.map"}