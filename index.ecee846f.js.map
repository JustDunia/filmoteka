{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAYC,SAASC,cAAc,gBAGzC,IAAIC,EAAc,EACdC,EAAa,EACjB,MAAMC,EAAsBC,MAAMC,UACTT,EAAAU,QAAMC,IAAI,mDAAoD,CACnFC,OAAQ,CACNC,QAPU,mCAQVJ,KAAMA,MAGMK,KAGlB,SAASC,EAAYC,GACnB,MAAMC,EAAOD,EACVE,KAAIC,GACI,oEAEqBA,EAAMC,+BAA+BD,EAAME,kBACrEF,EAAMC,WAENE,MAAMC,OAAOC,SAASL,EAAMM,eACxB,eACAF,OAAOC,SAASL,EAAMM,sDACaN,EAAMO,+FAGpCP,EAAMC,iFAGLD,EAAMQ,UAAUT,KAAIU,IAAW,EAAAC,EAAAC,qBAAoBF,KAAUG,KAAK,WAC5ET,MAAMC,OAAOC,SAASL,EAAMM,eACxB,eACAF,OAAOC,SAASL,EAAMM,mEAM7BM,KAAK,IACR7B,EAAU8B,UAAYf,EAAKgB,WACzB,sCACA,2FAEJ,CAEA,MAAMC,EAAa,IAAIC,EAAAC,GAAJ,CAAejC,SAASkC,eAAe,4BAA6B,CACrFC,WAAYhC,EACZiC,aAAc,GACdC,aAAc,EACd/B,KAAMJ,EACNoC,aAAa,EAEbC,SAAU,CACRjC,KAAM,gDACNkC,YAAa,iEACbC,aAAc,6DACdC,WACE,mGAGFC,mBACE,gHAGFC,WACE,uGAMNb,EAAWc,GAAG,aAAaxC,eAAgByC,GACzC5C,EAAc4C,EAAUxC,KACxB,MAAMyC,QAAiB3C,EAAoBF,GAC3CC,EAAa4C,EAASC,cACtBpC,EAAYmC,EAASE,QACvB,IAGA7C,EAAoBF,GAAagD,MAAKH,IACpC5C,EAAa4C,EAASC,cACtBjB,EAAWoB,MAAMhD,GACjBS,EAAYmC,EAASE,QAAO","sources":["src/js/card.js"],"sourcesContent":["import axios from 'axios';\nimport Pagination from 'tui-pagination';\nimport { idToGenereTranslate } from './helpers';\n\nconst listFilms = document.querySelector('.movies-list');\nconst API_KEY = '4e9fa3fc2487236fdff94602c5bb9552';\n\nlet currentPage = 1;\nlet totalItems = 0;\nconst fetchTrendingMovies = async page => {\n  const response = await axios.get(`https://api.themoviedb.org/3/trending/movie/week`, {\n    params: {\n      api_key: API_KEY,\n      page: page,\n    },\n  });\n  return response.data;\n};\n\nfunction renderFilms(images) {\n  const card = images\n    .map(image => {\n      return `\n      <li class=\"movie-item\">\n        <img class=\"boxID\" alt=\"${image.title} movie poster\" movieID=${image.id} movieTitle=\"${\n        image.title\n      } | ${\n        isNaN(Number.parseInt(image.release_date))\n          ? 'No year info'\n          : Number.parseInt(image.release_date)\n      }\" src=\"https://image.tmdb.org/t/p/w500${image.poster_path}\"\n        <div class=\"info\">\n          <p class=\"info__title\">\n            <b>${image.title}</b>\n          </p>\n          <p class=\"info__genre\">\n            <b> ${image.genre_ids.map(element => idToGenereTranslate(element)).join(`, `)} | ${\n        isNaN(Number.parseInt(image.release_date))\n          ? 'No year info'\n          : Number.parseInt(image.release_date)\n      }\n          </b></p>\n        </div>\n      </li>`;\n    })\n    .join('');\n  listFilms.innerHTML = card.replaceAll(\n    'https://image.tmdb.org/t/p/w500null',\n    'https://mateuszwoj-bit.github.io/GOIT-team-project-ice/squoosh-how1-desktop.b9f13a59.png',\n  );\n}\n\nconst pagination = new Pagination(document.getElementById('tui-pagination-container'), {\n  totalItems: totalItems,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: currentPage,\n  centerAlign: false,\n\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    disabledPage: '<span class=\"tui-page-btn tui-is-disabled\">{{page}}</span>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n});\n\npagination.on('afterMove', async function (eventData) {\n  currentPage = eventData.page;\n  const response = await fetchTrendingMovies(currentPage);\n  totalItems = response.total_results;\n  renderFilms(response.results);\n});\n\n// initial load\nfetchTrendingMovies(currentPage).then(response => {\n  totalItems = response.total_results;\n  pagination.reset(totalItems);\n  renderFilms(response.results);\n});\n"],"names":["$hGVxz","parcelRequire","$d3772b4d1fb9c9d1$var$listFilms","document","querySelector","$d3772b4d1fb9c9d1$var$currentPage","$d3772b4d1fb9c9d1$var$totalItems","$d3772b4d1fb9c9d1$var$fetchTrendingMovies","async","page","default","get","params","api_key","data","$d3772b4d1fb9c9d1$var$renderFilms","images","card","map","image","title","id","isNaN","Number","parseInt","release_date","poster_path","genre_ids","element","$48Q3A","idToGenereTranslate","join","innerHTML","replaceAll","$d3772b4d1fb9c9d1$var$pagination","$parcel$interopDefault","$afPuq","getElementById","totalItems","itemsPerPage","visiblePages","centerAlign","template","currentPage","disabledPage","moveButton","disabledMoveButton","moreButton","on","eventData","response","total_results","results","then","reset"],"version":3,"file":"index.ecee846f.js.map"}